{"version":3,"sources":["webpack:///webpack/bootstrap 7a91aa6f39344edcd831","webpack:///./src/index.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/adapter.ts","webpack:///./src/grid.tsx","webpack:///./src/header.tsx","webpack:///./src/cell.tsx","webpack:///./src/body.tsx","webpack:///./src/row.tsx"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,iBAAiB;;;;;;;ACNnE,wB;;;;;;ACAA,2B;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,4BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS,uBAAuB;AAChC,UAAS,+CAA+C;AACxD,UAAS,8CAA8C;AACvD,UAAS,wBAAwB;AACjC,UAAS;AACT;AACA;AACA,EAAC;AACD;;;;;;;ACrDA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA6E,aAAa,EAAE;AAC5F;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,eAAe,cAAc,EAAE;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,0BAA0B,8BAA8B,8DAA8D,8BAA8B,GAAG,8BAA8B,gCAAgC,wCAAwC,sFAAsF,gCAAgC,EAAE,uDAAuD,8BAA8B,GAAG,qCAAqC,iIAAiI,kCAAkC,GAAG;AACpsB;AACA;AACA,EAAC;AACD;;;;;;;AC/GA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,iCAAiC,kDAAkD,8DAA8D;AAC7L;AACA,6DAA4D,yEAAyE,uCAAuC,EAAE,wCAAwC;AACtN,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACtCA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,iDAAiD;AAC7F;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,8CAA8C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,yBAAwB;AACxB;AACA;AACA;AACA,yDAAwD,0BAA0B;AAClF;AACA;AACA,yDAAwD,4BAA4B;AACpF;AACA;AACA,yDAAwD,uBAAuB;AAC/E;AACA;AACA;AACA,6CAA4C,8DAA8D,6BAA6B,GAAG,+BAA+B,6DAA6D;AACtO;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,8EAA8E,gCAAgC,8DAA8D;AACxN;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,iFAAiF,gCAAgC,8DAA8D;AAC3N;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;AClGA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,+BAA+B;AAC3E;AACA,qDAAoD,yGAAyG,oCAAoC,GAAG;AACpM,UAAS;AACT;AACA;AACA,EAAC;AACD;;;;;;;ACtBA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,8BAA8B,4CAA4C,2DAA2D;AACjL;AACA,uDAAsD,mDAAmD;AACzG,UAAS;AACT;AACA;AACA,EAAC;AACD","file":"./dist/react-grid.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7a91aa6f39344edcd831\n **/","\"use strict\";\r\nvar React = require(\"react\");\r\nvar ReactDOM = require(\"react-dom\");\r\nvar adapter_1 = require(\"./adapter\");\r\nvar grid_1 = require(\"./grid\");\r\nvar adapter = new adapter_1.Adapter();\r\nReactDOM.render(React.createElement(grid_1.Grid, {adapter: adapter}), document.getElementById(\"example\"));\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.tsx\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = React;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = ReactDOM;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDOM\"\n ** module id = 2\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Adapter = (function () {\r\n    function Adapter() {\r\n    }\r\n    Adapter.prototype.defaultQuery = function (query) {\r\n        if (!!query) {\r\n            return {\r\n                top: query.top || Adapter.DEFAULT_TOP,\r\n                skip: query.skip || 0,\r\n                sorting: query.sorting,\r\n                filter: query.filter,\r\n                select: query.select\r\n            };\r\n        }\r\n        else {\r\n            return { top: Adapter.DEFAULT_TOP, skip: 0 };\r\n        }\r\n    };\r\n    Object.defineProperty(Adapter.prototype, \"columns\", {\r\n        get: function () {\r\n            return Adapter.COLUMNS;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Adapter.prototype.find = function (query) {\r\n        query = this.defaultQuery(query);\r\n        return new Promise(function (resolve, reject) {\r\n            var chance = new Chance(Adapter.CHANCE_SEED);\r\n            var rows = [];\r\n            for (var i = 1; i <= query.top; i++) {\r\n                rows.push({\r\n                    id: i,\r\n                    firstName: chance.first(),\r\n                    lastName: chance.last(),\r\n                    age: chance.age(),\r\n                    address: chance.address()\r\n                });\r\n            }\r\n            resolve(rows);\r\n        });\r\n    };\r\n    Adapter.DEFAULT_TOP = 25;\r\n    Adapter.CHANCE_SEED = 1337;\r\n    Adapter.COLUMNS = [\r\n        { key: \"id\", width: 70 },\r\n        { key: \"firstName\", width: 120, sortable: true },\r\n        { key: \"lastName\", width: 120, sortable: true },\r\n        { key: \"age\", width: 70 },\r\n        { key: \"address\", width: 200 }\r\n    ];\r\n    return Adapter;\r\n}());\r\nexports.Adapter = Adapter;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/adapter.ts\n ** module id = 3\n ** module chunks = 0\n **/","\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar React = require(\"react\");\r\nvar header_1 = require(\"./header\");\r\nvar body_1 = require(\"./body\");\r\nvar Grid = (function (_super) {\r\n    __extends(Grid, _super);\r\n    function Grid(props) {\r\n        _super.call(this, props);\r\n        this.state = {\r\n            entities: [],\r\n            selection: []\r\n        };\r\n    }\r\n    Grid.prototype.componentDidMount = function () {\r\n        this.load();\r\n    };\r\n    Grid.prototype.load = function () {\r\n        var _this = this;\r\n        var query = {\r\n            skip: this.state.entities.length,\r\n            sorting: this.state.sorting,\r\n            filter: this.state.filter,\r\n            select: this.state.select\r\n        };\r\n        this.props.adapter.find(query).then(function (entities) {\r\n            _this.setState(function (prevState, props) {\r\n                prevState.entities = entities;\r\n                prevState.selection = [];\r\n                return prevState;\r\n            });\r\n        });\r\n    };\r\n    Grid.prototype.handleSelect = function (index) {\r\n        var entity = this.state.entities[index];\r\n        this.setState(function (prevState, props) {\r\n            var selectionIndex = prevState.selection.indexOf(entity.id);\r\n            if (selectionIndex != -1) {\r\n                prevState.selection.splice(selectionIndex, 1);\r\n            }\r\n            else {\r\n                prevState.selection.push(entity.id);\r\n            }\r\n            return prevState;\r\n        });\r\n    };\r\n    Grid.prototype.handleSelectAll = function () {\r\n        var _this = this;\r\n        this.setState(function (prevState, props) {\r\n            if (prevState.selection.length > 0) {\r\n                prevState.selection = [];\r\n            }\r\n            else {\r\n                prevState.selection = _this.state.entities.map(function (e) { return e.id; });\r\n            }\r\n            return prevState;\r\n        });\r\n    };\r\n    Grid.prototype.handleSort = function (key) {\r\n        var _this = this;\r\n        this.setState(function (prevState, props) {\r\n            if (!prevState.sorting || prevState.sorting.key != key) {\r\n                prevState.sorting = {\r\n                    key: key,\r\n                    asc: true\r\n                };\r\n            }\r\n            else {\r\n                if (prevState.sorting.asc == true) {\r\n                    prevState.sorting.asc = false;\r\n                }\r\n                else {\r\n                    prevState.sorting = undefined;\r\n                }\r\n            }\r\n            prevState.entities = [];\r\n            return prevState;\r\n        }, function () { _this.load(); });\r\n    };\r\n    Grid.prototype.handleScroll = function (e) {\r\n        var scrollable = e.target;\r\n        var scrollTop = scrollable.scrollTop;\r\n        var scrollLeft = scrollable.scrollLeft;\r\n        var header = scrollable.getElementsByClassName('moravia-grid-header')[0];\r\n        var body = scrollable.getElementsByClassName('moravia-grid-body')[0];\r\n        if (scrollTop != 0 || scrollLeft != 0) {\r\n            body.style.marginTop = header.offsetHeight + \"px\";\r\n            header.style.position = \"absolute\";\r\n            header.style.top = scrollTop + \"px\";\r\n            header.style.left = \"0\";\r\n            header.style.width = header.parentElement.clientWidth + \"px\";\r\n        }\r\n        else {\r\n            body.style.marginTop = \"0\";\r\n            header.style.position = \"static\";\r\n            header.style.top = \"auto\";\r\n            header.style.left = \"auto\";\r\n            header.style.width = \"auto\";\r\n        }\r\n    };\r\n    Grid.prototype.render = function () {\r\n        var _this = this;\r\n        var allSelected = this.state.selection.length > 0;\r\n        return (React.createElement(\"div\", {className: \"moravia-grid\"}, React.createElement(\"div\", {className: \"moravia-grid-scrollable\", onScroll: function (e) { return _this.handleScroll(e); }}, React.createElement(\"div\", {className: \"moravia-grid-inner\"}, React.createElement(header_1.Header, {columns: this.props.adapter.columns, selected: allSelected, onSelectAll: function () { return _this.handleSelectAll(); }, sorting: this.state.sorting, onSort: function (key) { return _this.handleSort(key); }}), React.createElement(body_1.Body, {columns: this.props.adapter.columns, entities: this.state.entities, selection: this.state.selection, onSelect: function (index) { return _this.handleSelect(index); }})))));\r\n    };\r\n    return Grid;\r\n}(React.Component));\r\nexports.Grid = Grid;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/grid.tsx\n ** module id = 4\n ** module chunks = 0\n **/","\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar React = require(\"react\");\r\nvar cell_1 = require(\"./cell\");\r\nvar Header = (function (_super) {\r\n    __extends(Header, _super);\r\n    function Header() {\r\n        _super.apply(this, arguments);\r\n    }\r\n    Header.prototype.getSortState = function (column) {\r\n        if (column.sortable) {\r\n            if (this.props.sorting && this.props.sorting.key == column.key) {\r\n                return this.props.sorting.asc ? cell_1.SortState.Ascending : cell_1.SortState.Descending;\r\n            }\r\n            else {\r\n                return cell_1.SortState.Enabled;\r\n            }\r\n        }\r\n        else {\r\n            return cell_1.SortState.Disabled;\r\n        }\r\n    };\r\n    Header.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", {className: \"moravia-grid-header\"}, React.createElement(cell_1.CheckboxHeaderCell, {checked: this.props.selected, onCheck: this.props.onSelectAll}), this.props.columns.map(function (column) {\r\n            var title = column.title || column.key;\r\n            return (React.createElement(cell_1.HeaderCell, {key: column.key, title: title, width: column.width, onSort: function () { return _this.props.onSort(column.key); }, sortState: _this.getSortState(column)}));\r\n        })));\r\n    };\r\n    Header.defaultProps = {\r\n        sorting: {}\r\n    };\r\n    return Header;\r\n}(React.Component));\r\nexports.Header = Header;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/header.tsx\n ** module id = 5\n ** module chunks = 0\n **/","\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar React = require(\"react\");\r\nvar Cell = (function (_super) {\r\n    __extends(Cell, _super);\r\n    function Cell() {\r\n        _super.apply(this, arguments);\r\n    }\r\n    Cell.prototype.render = function () {\r\n        var style = {\r\n            width: this.props.width + 'px'\r\n        };\r\n        return (React.createElement(\"div\", {style: style, className: \"moravia-grid-row-cell\"}, this.props.value));\r\n    };\r\n    Cell.defaultProps = {\r\n        width: 100\r\n    };\r\n    return Cell;\r\n}(React.Component));\r\nexports.Cell = Cell;\r\n(function (SortState) {\r\n    SortState[SortState[\"Disabled\"] = 0] = \"Disabled\";\r\n    SortState[SortState[\"Enabled\"] = 1] = \"Enabled\";\r\n    SortState[SortState[\"Ascending\"] = 2] = \"Ascending\";\r\n    SortState[SortState[\"Descending\"] = 3] = \"Descending\";\r\n})(exports.SortState || (exports.SortState = {}));\r\nvar SortState = exports.SortState;\r\nvar HeaderCell = (function (_super) {\r\n    __extends(HeaderCell, _super);\r\n    function HeaderCell() {\r\n        _super.apply(this, arguments);\r\n    }\r\n    HeaderCell.prototype.render = function () {\r\n        var _this = this;\r\n        var sortEnabled = this.props.sortState != SortState.Disabled;\r\n        var width = { width: this.props.width + 'px' };\r\n        var maxWidth = { maxWidth: this.props.width - 10 - (sortEnabled ? 17 : 0) + 'px' };\r\n        var sortable;\r\n        switch (this.props.sortState) {\r\n            case SortState.Ascending:\r\n                sortable = React.createElement(\"span\", {className: \"icon-sort-up\"});\r\n                break;\r\n            case SortState.Descending:\r\n                sortable = React.createElement(\"span\", {className: \"icon-sort-down\"});\r\n                break;\r\n            case SortState.Enabled:\r\n                sortable = React.createElement(\"span\", {className: \"icon-sort\"});\r\n                break;\r\n        }\r\n        var sortableClass = (sortEnabled ? \"moravia-grid-header-cell sortable\" : \"moravia-grid-header-cell\");\r\n        return (React.createElement(\"div\", {style: width, className: sortableClass, onClick: function () { return _this.props.onSort(); }}, React.createElement(\"span\", {style: maxWidth, className: \"title\", title: this.props.title}, this.props.title), sortable));\r\n    };\r\n    HeaderCell.defaultProps = {\r\n        width: 100,\r\n        sortState: SortState.Disabled\r\n    };\r\n    return HeaderCell;\r\n}(React.Component));\r\nexports.HeaderCell = HeaderCell;\r\nvar CheckboxCell = (function (_super) {\r\n    __extends(CheckboxCell, _super);\r\n    function CheckboxCell(props) {\r\n        _super.call(this, props);\r\n    }\r\n    CheckboxCell.prototype.render = function () {\r\n        var style = {\r\n            padding: '1px',\r\n            width: '24px'\r\n        };\r\n        return (React.createElement(\"div\", {onClick: this.props.onCheck, style: style, className: \"moravia-grid-row-cell\"}, React.createElement(\"input\", {type: \"checkbox\", checked: this.props.checked, readOnly: true})));\r\n    };\r\n    CheckboxCell.defaultProps = {\r\n        checked: false\r\n    };\r\n    return CheckboxCell;\r\n}(React.Component));\r\nexports.CheckboxCell = CheckboxCell;\r\nvar CheckboxHeaderCell = (function (_super) {\r\n    __extends(CheckboxHeaderCell, _super);\r\n    function CheckboxHeaderCell(props) {\r\n        _super.call(this, props);\r\n    }\r\n    CheckboxHeaderCell.prototype.render = function () {\r\n        var style = {\r\n            padding: '1px',\r\n            width: '24px'\r\n        };\r\n        return (React.createElement(\"div\", {onClick: this.props.onCheck, style: style, className: \"moravia-grid-header-cell\"}, React.createElement(\"input\", {type: \"checkbox\", checked: this.props.checked, readOnly: true})));\r\n    };\r\n    CheckboxHeaderCell.defaultProps = {\r\n        checked: false\r\n    };\r\n    return CheckboxHeaderCell;\r\n}(React.Component));\r\nexports.CheckboxHeaderCell = CheckboxHeaderCell;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/cell.tsx\n ** module id = 6\n ** module chunks = 0\n **/","\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar React = require(\"react\");\r\nvar row_1 = require(\"./row\");\r\nvar Body = (function (_super) {\r\n    __extends(Body, _super);\r\n    function Body() {\r\n        _super.apply(this, arguments);\r\n    }\r\n    Body.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", {className: \"moravia-grid-body\"}, this.props.entities.map(function (entity, index) {\r\n            var selected = _this.props.selection.indexOf(entity.id) != -1;\r\n            return (React.createElement(row_1.Row, {key: entity.id, entity: entity, columns: _this.props.columns, selected: selected, onSelect: function () { return _this.props.onSelect(index); }}));\r\n        })));\r\n    };\r\n    return Body;\r\n}(React.Component));\r\nexports.Body = Body;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/body.tsx\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar React = require(\"react\");\r\nvar cell_1 = require(\"./cell\");\r\nvar Row = (function (_super) {\r\n    __extends(Row, _super);\r\n    function Row() {\r\n        _super.apply(this, arguments);\r\n    }\r\n    Row.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", {className: \"moravia-grid-row\"}, React.createElement(cell_1.CheckboxCell, {checked: this.props.selected, onCheck: this.props.onSelect}), this.props.columns.map(function (column) {\r\n            var value = _this.props.entity[column.key];\r\n            return (React.createElement(cell_1.Cell, {key: column.key, value: value, width: column.width}));\r\n        })));\r\n    };\r\n    return Row;\r\n}(React.Component));\r\nexports.Row = Row;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/row.tsx\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}